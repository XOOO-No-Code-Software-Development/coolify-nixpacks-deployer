{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/constants.ts"],"sourcesContent":["export const DUMMY_PASSWORD =\r\n  '$2b$10$k7L3lUJhDLKBGbz4Yf8ZJe9Yk6j5Qz1Xr2Wv8Ts7Nq9Mp3Lk4Jh6Fg'\r\n\r\nexport const guestRegex = /^guest-[a-zA-Z0-9_-]+@example\\.com$/\r\n\r\nexport const isDevelopmentEnvironment = process.env.NODE_ENV === 'development'\r\n\r\nexport const DEPLOY_URL =\r\n  'https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fv0-sdk%2Ftree%2Fmain%2Fexamples%2Fv0-clone&env=V0_API_KEY,AUTH_SECRET&envDescription=Get+your+v0+API+key&envLink=https%3A%2F%2Fv0.app%2Fchat%2Fsettings%2Fkeys&products=%255B%257B%2522type%2522%253A%2522integration%2522%252C%2522protocol%2522%253A%2522storage%2522%252C%2522productSlug%2522%253A%2522neon%2522%252C%2522integrationSlug%2522%253A%2522neon%2522%257D%255D&project-name=v0-clone&repository-name=v0-clone&demo-title=v0+Clone&demo-description=A+full-featured+v0+clone+built+with+Next.js%2C+AI+Elements%2C+and+the+v0+SDK&demo-url=https%3A%2F%2Fclone-demo.v0-sdk.dev'\r\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,iBACX;AAEK,MAAM,aAAa;AAEnB,MAAM,2BAA2B,oDAAyB;AAE1D,MAAM,aACX"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse, type NextRequest } from 'next/server'\r\nimport { getToken } from 'next-auth/jwt'\r\nimport { guestRegex, isDevelopmentEnvironment } from './lib/constants'\r\n\r\nexport async function middleware(request: NextRequest) {\r\n  const { pathname } = request.nextUrl\r\n\r\n  /*\r\n   * Playwright starts the dev server and requires a 200 status to\r\n   * begin the tests, so this ensures that the tests can start\r\n   */\r\n  if (pathname.startsWith('/ping')) {\r\n    return new Response('pong', { status: 200 })\r\n  }\r\n\r\n  if (pathname.startsWith('/api/auth')) {\r\n    return NextResponse.next()\r\n  }\r\n\r\n  // Check for required environment variables\r\n  if (!process.env.AUTH_SECRET) {\r\n    console.error(\r\n      'âŒ Missing AUTH_SECRET environment variable. Please check your .env file.',\r\n    )\r\n    return NextResponse.next() // Let the app handle the error with better UI\r\n  }\r\n\r\n  const token = await getToken({\r\n    req: request,\r\n    secret: process.env.AUTH_SECRET,\r\n    secureCookie: !isDevelopmentEnvironment,\r\n  })\r\n\r\n  if (!token) {\r\n    // Allow API routes to proceed without authentication for anonymous chat creation\r\n    if (pathname.startsWith('/api/')) {\r\n      return NextResponse.next()\r\n    }\r\n\r\n    // Allow homepage for anonymous users\r\n    if (pathname === '/') {\r\n      return NextResponse.next()\r\n    }\r\n\r\n    // Redirect protected pages to login\r\n    if (['/chats', '/projects'].some((path) => pathname.startsWith(path))) {\r\n      return NextResponse.redirect(new URL('/login', request.url))\r\n    }\r\n\r\n    // Allow login and register pages\r\n    if (['/login', '/register'].includes(pathname)) {\r\n      return NextResponse.next()\r\n    }\r\n\r\n    // For any other protected routes, redirect to login\r\n    return NextResponse.redirect(new URL('/login', request.url))\r\n  }\r\n\r\n  const isGuest = guestRegex.test(token?.email ?? '')\r\n\r\n  if (token && !isGuest && ['/login', '/register'].includes(pathname)) {\r\n    return NextResponse.redirect(new URL('/', request.url))\r\n  }\r\n\r\n  return NextResponse.next()\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\r\n    '/',\r\n    '/chats/:path*',\r\n    '/projects/:path*',\r\n    '/api/:path*',\r\n    '/login',\r\n    '/register',\r\n\r\n    /*\r\n     * Match all request paths except for the ones starting with:\r\n     * - _next/static (static files)\r\n     * - _next/image (image optimization files)\r\n     * - favicon.ico, sitemap.xml, robots.txt (metadata files)\r\n     */\r\n    '/((?!_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)',\r\n  ],\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;;;;AAEO,eAAe,WAAW,OAAoB;IACnD,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC;;;GAGC,GACD,IAAI,SAAS,UAAU,CAAC,UAAU;QAChC,OAAO,IAAI,SAAS,QAAQ;YAAE,QAAQ;QAAI;IAC5C;IAEA,IAAI,SAAS,UAAU,CAAC,cAAc;QACpC,OAAO,qPAAY,CAAC,IAAI;IAC1B;IAEA,2CAA2C;IAC3C,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;QAC5B,QAAQ,KAAK,CACX;QAEF,OAAO,qPAAY,CAAC,IAAI,GAAG,8CAA8C;;IAC3E;IAEA,MAAM,QAAQ,MAAM,IAAA,yJAAQ,EAAC;QAC3B,KAAK;QACL,QAAQ,QAAQ,GAAG,CAAC,WAAW;QAC/B,cAAc,CAAC,oJAAwB;IACzC;IAEA,IAAI,CAAC,OAAO;QACV,iFAAiF;QACjF,IAAI,SAAS,UAAU,CAAC,UAAU;YAChC,OAAO,qPAAY,CAAC,IAAI;QAC1B;QAEA,qCAAqC;QACrC,IAAI,aAAa,KAAK;YACpB,OAAO,qPAAY,CAAC,IAAI;QAC1B;QAEA,oCAAoC;QACpC,IAAI;YAAC;YAAU;SAAY,CAAC,IAAI,CAAC,CAAC,OAAS,SAAS,UAAU,CAAC,QAAQ;YACrE,OAAO,qPAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;QAC5D;QAEA,iCAAiC;QACjC,IAAI;YAAC;YAAU;SAAY,CAAC,QAAQ,CAAC,WAAW;YAC9C,OAAO,qPAAY,CAAC,IAAI;QAC1B;QAEA,oDAAoD;QACpD,OAAO,qPAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;IAEA,MAAM,UAAU,sIAAU,CAAC,IAAI,CAAC,OAAO,SAAS;IAEhD,IAAI,SAAS,CAAC,WAAW;QAAC;QAAU;KAAY,CAAC,QAAQ,CAAC,WAAW;QACnE,OAAO,qPAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,QAAQ,GAAG;IACvD;IAEA,OAAO,qPAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QAEA;;;;;KAKC,GACD;KACD;AACH"}}]
}